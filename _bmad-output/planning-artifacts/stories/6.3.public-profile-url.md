# Story 6.3: Public Profile URL

## Status: Draft

## Story

**As a** player,
**I want** a unique shareable URL for my profile,
**so that** I can share my darts identity.

## Acceptance Criteria

1. Public profile URL format: /player/{username} or /p/{unique_id}
2. Username or unique slug generated from player name
3. URL displayed in profile settings for easy copying
4. "Share Profile" button with copy-to-clipboard
5. Social media share buttons (Facebook, Twitter/X) - optional

## Tasks / Subtasks

- [ ] Task 1: Ensure Unique Slug Generation (AC: 1, 2)
  - [ ] Verify public_slug is generated on player creation
  - [ ] Ensure uniqueness constraint

- [ ] Task 2: Create Public Profile Route (AC: 1)
  - [ ] Add `GET /player/{slug}` route
  - [ ] Create PublicProfileController

- [ ] Task 3: Display URL in Settings (AC: 3)
  - [ ] Show full URL in settings/profile page
  - [ ] Make URL easily selectable

- [ ] Task 4: Copy to Clipboard (AC: 4)
  - [ ] Add "Copier" button
  - [ ] JavaScript to copy URL
  - [ ] Show confirmation "CopiÃ© !"

- [ ] Task 5: Social Share Buttons (AC: 5)
  - [ ] Add Facebook share button (optional)
  - [ ] Add Twitter/X share button (optional)

## Dev Notes

### Relevant Architecture References

**Slug Generation (from PlayerService):**
```php
private function generateUniqueSlug(User $user): string
{
    $base = Str::slug($user->email);
    $slug = $base;
    $counter = 1;

    while (Player::where('public_slug', $slug)->exists()) {
        $slug = $base . '-' . $counter++;
    }

    return $slug;
}
```

**Route:**
```php
Route::get('/player/{slug}', [PublicProfileController::class, 'show'])
    ->name('player.public');
```

**Copy to Clipboard JavaScript:**
```javascript
function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(() => {
        // Show confirmation
    });
}
```

### Testing

**Test Location:** `tests/Feature/PublicProfileTest.php`

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-08 | 1.0 | Initial story creation from PRD | Sarah (PO) |
