# Story 5.2: Custom Component Entry

## Status: Draft

## Story

**As a** player,
**I want** to add components not in the catalog,
**so that** I can track all my equipment regardless of catalog coverage.

## Acceptance Criteria

1. "Add Custom" option when component not found
2. Manual entry form: brand name, model name, type, attributes
3. Optional photo upload for custom component
4. Custom components marked differently from catalog items
5. Custom components only visible to owner (not in global catalog)

## Tasks / Subtasks

- [ ] Task 1: Create Custom Component Form (AC: 1, 2)
  - [ ] Add "Add Custom" button/link
  - [ ] Create form with brand name, model name fields
  - [ ] Add type selector
  - [ ] Add dynamic attribute fields based on type

- [ ] Task 2: Photo Upload (AC: 3)
  - [ ] Add image upload field
  - [ ] Store in `storage/app/public/components/custom/`
  - [ ] Validate image type and size

- [ ] Task 3: Custom Component Controller (AC: 1, 5)
  - [ ] Add storeCustom method to EquipmentController
  - [ ] Set is_custom = true
  - [ ] Store custom fields

- [ ] Task 4: Visual Distinction (AC: 4)
  - [ ] Add "Custom" badge to custom components
  - [ ] Different styling in inventory view

## Dev Notes

### Relevant Architecture References

**Custom Component Fields:**
```php
- is_custom: true
- custom_brand: "Ma Marque"
- custom_name: "Mon ModÃ¨le"
- custom_type: "barrel"
- custom_attributes: {"weight": "23g", "material": "brass"}
- custom_image_path: "components/custom/123_photo.jpg"
```

**Route:**
```php
Route::post('/equipment/custom', [EquipmentController::class, 'storeCustom'])
    ->name('equipment.custom');
```

### Testing

**Test Location:** `tests/Feature/Equipment/CustomComponentTest.php`

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-08 | 1.0 | Initial story creation from PRD | Sarah (PO) |
